<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Wedding Day Shot List Generator – Rule Creative Co.</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
<style>
:root{
  --bg:#ffffff; --fg:#1b1b1b; --muted:#6b7280; --brand:#9a633e;
  --line:#e5e7eb; --radius:18px; --pad:16px;
  --font-body:'Montserrat', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  --font-accent:'Georgia', serif; --shadow:0 10px 18px rgba(2,12,27,.04), 0 2px 6px rgba(2,12,27,.06);
}
*{box-sizing:border-box}
body{margin:0;font-family:var(--font-body);color:var(--fg);background:#fff}
.wrap{max-width:960px;margin:28px auto;padding:0 28px 64px}
header.hero{text-align:center;padding:28px 18px}
h1{font-family:var(--font-accent);font-weight:600;font-size:clamp(1.6rem,3vw,2.4rem);margin:0}
.sub{color:var(--muted);margin:8px auto;font-size:1rem;max-width:820px}

/* cards */
.card{background:#fff;border:1px solid var(--line);border-radius:var(--radius);padding:var(--pad);box-shadow:var(--shadow);margin-top:16px}

/* form layout */
.row{display:grid;grid-template-columns:1fr 1fr;gap:18px}
label{display:block;font-size:.9rem;margin:8px 0 6px;color:#111;font-weight:700}
input, textarea, select{
  width:100%;padding:12px 14px;border:1px solid var(--line);border-radius:12px;background:#fff;
  outline:none;box-shadow:inset 0 1px 0 rgba(0,0,0,.02)
}
input:focus, textarea:focus, select:focus{border-color:#c9b4a7;box-shadow:0 0 0 3px rgba(154,99,62,.12)}
textarea{min-height:90px;resize:vertical}
.controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:18px;justify-content:center}
button{border:1px solid var(--brand);background:var(--brand);color:#fff;border-radius:999px;padding:12px 18px;font-weight:800;cursor:pointer}
button.alt{background:#fff;color:var(--brand)}
.hint{color:var(--muted);font-size:.88rem;margin-top:6px}

/* group sections */
.group{border:1px solid var(--line);border-radius:16px;padding:16px 18px;margin:22px 0}

/* 3 equal columns that don’t clip */
.grid-3{
  display:grid;
  grid-template-columns:repeat(3,minmax(0,1fr));
  gap:16px 24px;
  align-items:start;
}
.grid-3>div{min-width:0;padding-right:10px}

/* checkbox rows */
.check{display:grid;grid-template-columns:18px 1fr;align-items:start;gap:10px;margin:6px 0;line-height:1.5}
.check input{margin-top:2px}

/* toggled sub-groups */
.subgroup{border:1px dashed var(--line);border-radius:12px;padding:10px 12px;margin:10px 0 0 0;background:#fffdfb}

@media(max-width:900px){.grid-3{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media(max-width:640px){.row{grid-template-columns:1fr}.grid-3{grid-template-columns:1fr}}

.results{border:1px solid var(--line);border-radius:22px;overflow:hidden;box-shadow:var(--shadow);margin-top:18px}
.rl-item{padding:12px 18px;border-top:1px dashed var(--line);background:#fff}
.rl-item:nth-child(even){background:#fffaf7}
.rl-section{background:#fbf7f4;border-top:1px solid #f0e6df;font-weight:800;font-family:var(--font-accent);padding:14px 18px}
.badge{display:inline-block;font-size:.8rem;color:#5b3a25;background:#f7efe9;border-radius:999px;padding:2px 10px;margin-left:8px}
</style>
</head>
<body>
<div class="wrap">
  <header class="hero">
    <h1>Wedding Day Shot List Builder</h1>
    <p class="sub"><strong>Use this as a smart starting point.</strong> We’ll review and refine your family photo list together to fit your people and your day.</p>
  </header>

  <div class="card" id="form">
    <div class="row">
      <div><label id="lblRole1Name">Bride’s first name</label><input id="bride" placeholder="e.g., Emma" /></div>
      <div><label id="lblRole2Name">Groom’s first name</label><input id="groom" placeholder="e.g., Noah" /></div>
    </div>

    <div class="row">
      <div>
        <label>Label style</label>
        <select id="roleMode">
          <option value="bg">Bride / Groom</option>
          <option value="p12">Partner 1 / Partner 2</option>
        </select>
      </div>
      <div>
        <label>Wedding date</label>
        <input type="date" id="wDate" />
      </div>
    </div>

    <div class="row">
      <div>
        <label>Your email (so Samantha can reply)</label>
        <input type="email" id="email" placeholder="you@example.com" />
      </div>
    </div>

    <div class="group">
      <h3 id="hNames">Family names</h3>
      <div class="grid-3">
        <div>
          <label id="lblRole1Dad">Bride’s dad</label><input id="b_dad" placeholder="e.g., Tom" />
          <label id="lblRole1Mom">Bride’s mom</label><input id="b_mom" placeholder="e.g., Nancy" />
          <label id="lblRole1Sibs">Bride’s siblings (separate with commas)</label>
          <input id="b_siblings_names" placeholder="e.g., Lily, Grace" />
          <div class="hint">Separate with commas. Nicknames are okay!</div>
        </div>
        <div>
          <label id="lblRole2Dad">Groom’s dad</label><input id="g_dad" placeholder="e.g., Mark" />
          <label id="lblRole2Mom">Groom’s mom</label><input id="g_mom" placeholder="e.g., Susan" />
          <label id="lblRole2Sibs">Groom’s siblings (separate with commas)</label>
          <input id="g_siblings_names" placeholder="e.g., Jake, Ava" />
          <div class="hint">Separate with commas. Nicknames are okay!</div>
        </div>
      </div>
    </div>

    <div class="group">
      <h3>Family combinations</h3>
      <div class="grid-3" style="margin-bottom:6px">
        <div><strong id="hRole1Col">Bride’s Side</strong></div>
        <div><strong id="hRole2Col">Groom’s Side</strong></div>
        <div><strong>Couple</strong></div>
      </div>

      <div class="grid-3">
        <!-- Role1 (Bride by default) -->
        <div>
          <label class="check"><input type="checkbox" id="b_parents_together"><span id="tx_b_parents">Bride + Parents together</span></label>
          <label class="check"><input type="checkbox" id="c_b_parents"><span id="tx_c_b_parents">Couple + Bride’s Parents together</span></label>

          <label class="check"><input type="checkbox" id="b_with_mom"><span id="tx_b_mom">Bride + Mom</span></label>
          <label class="check"><input type="checkbox" id="c_b_mom"><span id="tx_c_b_mom">Couple + Bride’s Mom</span></label>

          <label class="check"><input type="checkbox" id="b_with_dad"><span id="tx_b_dad">Bride + Dad</span></label>
          <label class="check"><input type="checkbox" id="c_b_dad"><span id="tx_c_b_dad">Couple + Bride’s Dad</span></label>

          <label class="check"><input type="checkbox" id="b_siblings"><span id="tx_b_sibs">Bride + Siblings</span></label>
          <label class="check"><input type="checkbox" id="c_b_sibs"><span id="tx_c_b_sibs">Couple + Bride’s Siblings</span></label>

          <label class="check"><input type="checkbox" id="b_immediate"><span id="tx_b_immediate">Bride + Immediate Family</span></label>
          <label class="check"><input type="checkbox" id="c_b_immediate"><span id="tx_c_b_immediate">Couple + Bride’s Immediate Family</span></label>

          <!-- Edge cases: divorced/step for role1 -->
          <div class="subgroup">
            <label class="check"><input type="checkbox" id="b_edge_toggle">Divorced/step-parents (Bride’s side)</label>
            <div id="b_edge_wrap" hidden>
              <label class="check"><input type="checkbox" id="b_mom_stepdad"><span id="tx_b_mom_stepdad">Bride + Mom + Stepfather</span></label>
              <label class="check"><input type="checkbox" id="b_dad_stepmom"><span id="tx_b_dad_stepmom">Bride + Dad + Stepmother</span></label>
              <label class="check"><input type="checkbox" id="c_b_mom_stepdad"><span id="tx_c_b_mom_stepdad">Couple + Mom + Stepfather</span></label>
              <label class="check"><input type="checkbox" id="c_b_dad_stepmom"><span id="tx_c_b_dad_stepmom">Couple + Dad + Stepmother</span></label>
            </div>
          </div>
        </div>

        <!-- Role2 (Groom by default) -->
        <div>
          <label class="check"><input type="checkbox" id="g_parents_together"><span id="tx_g_parents">Groom + Parents together</span></label>
          <label class="check"><input type="checkbox" id="c_g_parents"><span id="tx_c_g_parents">Couple + Groom’s Parents together</span></label>

          <label class="check"><input type="checkbox" id="g_with_mom"><span id="tx_g_mom">Groom + Mom</span></label>
          <label class="check"><input type="checkbox" id="c_g_mom"><span id="tx_c_g_mom">Couple + Groom’s Mom</span></label>

          <label class="check"><input type="checkbox" id="g_with_dad"><span id="tx_g_dad">Groom + Dad</span></label>
          <label class="check"><input type="checkbox" id="c_g_dad"><span id="tx_c_g_dad">Couple + Groom’s Dad</span></label>

          <label class="check"><input type="checkbox" id="g_siblings"><span id="tx_g_sibs">Groom + Siblings</span></label>
          <label class="check"><input type="checkbox" id="c_g_sibs"><span id="tx_c_g_sibs">Couple + Groom’s Siblings</span></label>

          <label class="check"><input type="checkbox" id="g_immediate"><span id="tx_g_immediate">Groom + Immediate Family</span></label>
          <label class="check"><input type="checkbox" id="c_g_immediate"><span id="tx_c_g_immediate">Couple + Groom’s Immediate Family</span></label>

          <!-- Edge cases: divorced/step for role2 -->
          <div class="subgroup">
            <label class="check"><input type="checkbox" id="g_edge_toggle">Divorced/step-parents (Groom’s side)</label>
            <div id="g_edge_wrap" hidden>
              <label class="check"><input type="checkbox" id="g_mom_stepdad"><span id="tx_g_mom_stepdad">Groom + Mom + Stepfather</span></label>
              <label class="check"><input type="checkbox" id="g_dad_stepmom"><span id="tx_g_dad_stepmom">Groom + Dad + Stepmother</span></label>
              <label class="check"><input type="checkbox" id="c_g_mom_stepdad"><span id="tx_c_g_mom_stepdad">Couple + Mom + Stepfather</span></label>
              <label class="check"><input type="checkbox" id="c_g_dad_stepmom"><span id="tx_c_g_dad_stepmom">Couple + Dad + Stepmother</span></label>
            </div>
          </div>
        </div>

        <!-- Couple column -->
        <div>
          <label class="check"><input type="checkbox" id="both_parents">Couple + Both Sets of Parents</label>
          <label class="check"><input type="checkbox" id="both_immediate">Couple + Both Immediate Families</label>

          <!-- Split grandparents by side -->
          <label class="check"><input type="checkbox" id="grandparents_b">Couple + Bride’s Grandparents</label>
          <label class="check"><input type="checkbox" id="grandparents_g">Couple + Groom’s Grandparents</label>

          <label class="check"><input type="checkbox" id="nieces_nephews">Couple + Nieces/Nephews</label>
          <label class="check"><input type="checkbox" id="extended">Couple + Extended Family</label>
          <label class="check"><input type="checkbox" id="couple_aunts_uncles">Couple + Aunts/Uncles</label>
          <label class="check"><input type="checkbox" id="couple_cousins">Couple + Cousins</label>
          <label class="check"><input type="checkbox" id="couple_godparents">Couple + Godparents</label>
          <label class="check"><input type="checkbox" id="couple_friends">Couple + Close Friends</label>
        </div>
      </div>

      <label style="margin-top:10px">Custom adds (one per line)</label>
      <textarea id="customAdds" placeholder="Bride + College friends&#10;Groom + Godparents"></textarea>
    </div>

    <!-- Names for combined groups -->
    <div class="group">
      <h3>Names for combined groups (optional)</h3>
      <div class="grid-3">
        <div>
          <label>Bride’s grandparents (separate with commas)</label>
          <input id="names_gp_b" placeholder="e.g., Alice, Robert" />
          <label>Nieces & nephews (separate with commas)</label>
          <input id="names_nieces_nephews" placeholder="e.g., Mia, Carter" />
        </div>
        <div>
          <label>Groom’s grandparents (separate with commas)</label>
          <input id="names_gp_g" placeholder="e.g., Evelyn, Frank" />
          <label>Aunts & uncles (separate with commas)</label>
          <input id="names_aunts_uncles" placeholder="e.g., Anne, Paul" />
        </div>
        <div>
          <label>Cousins (separate with commas)</label>
          <input id="names_cousins" placeholder="e.g., Josh, Lena" />
          <label>Godparents (separate with commas)</label>
          <input id="names_godparents" placeholder="e.g., Maria, Victor" />
          <label>Close friends (separate with commas)</label>
          <input id="names_friends" placeholder="e.g., Kate, Drew" />
        </div>
      </div>
      <div class="hint">Separate with commas. Nicknames are okay!</div>
    </div>

    <div class="group">
      <h3>Bridal party</h3>
      <div class="grid-3">
        <div>
          <label class="check"><input type="checkbox" id="wp_all">Couple + Entire Wedding Party</label>
          <label class="check"><input type="checkbox" id="wp_bridesmaids">Bride + Bridesmaids</label>
          <label class="check"><input type="checkbox" id="wp_groomsmen">Groom + Groomsmen</label>
        </div>
        <div>
          <label class="check"><input type="checkbox" id="wp_individuals">Individuals with each bridesmaid/groomsman</label>
          <label class="check"><input type="checkbox" id="wp_fg_rb">Couple + Flower Girls / Ring Bearers</label>
        </div>
      </div>
      <label>Anything we can’t miss? VIPs, surprises, or special considerations.</label>
      <textarea id="special" placeholder="Any must-have groupings or VIPs we can’t miss"></textarea>
    </div>

    <div class="controls">
      <button id="gen">Build My Shot List</button>
      <button class="alt" id="pdf">Download PDF</button>
      <button class="alt" id="send">Share with Samantha</button>
    </div>
  </div>

  <div class="results" id="results" hidden>
    <div class="rl-section">Shot List (draft) – Samantha’s suggested groupings <span class="badge">(sequence optimized for day-of flow)</span></div>
    <div id="rlList"></div>
  </div>
</div>

<script>
(function(){
  const el = id => document.getElementById(id);
  const val = id => (el(id)?.value || '').trim();
  const list = id => val(id).split(',').map(s=>s.trim()).filter(Boolean);
  const isOn = id => !!(el(id) && el(id).checked);

  // Role labels (Bride/Groom or Partner 1/Partner 2)
  const roles = {
    bg: { r1: 'Bride', r2: 'Groom', r1s: "Bride’s", r2s: "Groom’s" },
    p12:{ r1: 'Partner 1', r2: 'Partner 2', r1s: "Partner 1’s", r2s: "Partner 2’s" }
  };
  let roleMode = 'bg';

  function applyRoleLabels(){
    const R = roles[roleMode];
    // Top labels
    el('lblRole1Name').textContent = `${R.r1}’s first name`;
    el('lblRole2Name').textContent = `${R.r2}’s first name`;
    // Names section
    el('lblRole1Dad').textContent = `${R.r1s} dad`;
    el('lblRole1Mom').textContent = `${R.r1s} mom`;
    el('lblRole1Sibs').textContent = `${R.r1s} siblings (separate with commas)`;
    el('lblRole2Dad').textContent = `${R.r2s} dad`;
    el('lblRole2Mom').textContent = `${R.r2s} mom`;
    el('lblRole2Sibs').textContent = `${R.r2s} siblings (separate with commas)`;
    // Column headers
    el('hRole1Col').textContent = `${R.r1s} Side`;
    el('hRole2Col').textContent = `${R.r2s} Side`;
    el('hNames').textContent = 'Family names';

    // Checkbox text blocks (interleaved order)
    const setText = (id, txt) => { const n = el(id); if(n) n.textContent = txt; };
    setText('tx_b_parents', `${R.r1} + Parents together`);
    setText('tx_c_b_parents', `Couple + ${R.r1s} Parents together`);
    setText('tx_b_mom', `${R.r1} + Mom`);
    setText('tx_c_b_mom', `Couple + ${R.r1s} Mom`);
    setText('tx_b_dad', `${R.r1} + Dad`);
    setText('tx_c_b_dad', `Couple + ${R.r1s} Dad`);
    setText('tx_b_sibs', `${R.r1} + Siblings`);
    setText('tx_c_b_sibs', `Couple + ${R.r1s} Siblings`);
    setText('tx_b_immediate', `${R.r1} + Immediate Family`);
    setText('tx_c_b_immediate', `Couple + ${R.r1s} Immediate Family`);
    setText('tx_b_mom_stepdad', `${R.r1} + Mom + Stepfather`);
    setText('tx_b_dad_stepmom', `${R.r1} + Dad + Stepmother`);
    setText('tx_c_b_mom_stepdad', `Couple + Mom + Stepfather`);
    setText('tx_c_b_dad_stepmom', `Couple + Dad + Stepmother`);

    setText('tx_g_parents', `${R.r2} + Parents together`);
    setText('tx_c_g_parents', `Couple + ${R.r2s} Parents together`);
    setText('tx_g_mom', `${R.r2} + Mom`);
    setText('tx_c_g_mom', `Couple + ${R.r2s} Mom`);
    setText('tx_g_dad', `${R.r2} + Dad`);
    setText('tx_c_g_dad', `Couple + ${R.r2s} Dad`);
    setText('tx_g_sibs', `${R.r2} + Siblings`);
    setText('tx_c_g_sibs', `Couple + ${R.r2s} Siblings`);
    setText('tx_g_immediate', `${R.r2} + Immediate Family`);
    setText('tx_c_g_immediate', `Couple + ${R.r2s} Immediate Family`);
    setText('tx_g_mom_stepdad', `${R.r2} + Mom + Stepfather`);
    setText('tx_g_dad_stepmom', `${R.r2} + Dad + Stepmother`);
    setText('tx_c_g_mom_stepdad', `Couple + Mom + Stepfather`);
    setText('tx_c_g_dad_stepmom', `Couple + Dad + Stepmother`);
  }

  // Reveal edge-case subgroups
  function wireEdgeToggles(){
    el('b_edge_toggle').addEventListener('change',()=>{ el('b_edge_wrap').hidden = !el('b_edge_toggle').checked; });
    el('g_edge_toggle').addEventListener('change',()=>{ el('g_edge_wrap').hidden = !el('g_edge_toggle').checked; });
  }

  function buildList(){
    const R = roles[roleMode];
    const role1 = R.r1, role2 = R.r2;
    const role1s = R.r1s, role2s = R.r2s;

    const p1 = val('bride') || role1;
    const p2 = val('groom') || role2;
    const wDate = val('wDate');

    // Names
    const bDad=val('b_dad'), bMom=val('b_mom'), gDad=val('g_dad'), gMom=val('g_mom');
    const bSibs=list('b_siblings_names'), gSibs=list('g_siblings_names');

    // Combined names
    const gpB=list('names_gp_b'), gpG=list('names_gp_g');
    const niecesNephews=list('names_nieces_nephews');
    const auntsUncles=list('names_aunts_uncles');
    const cousins=list('names_cousins');
    const godparents=list('names_godparents');
    const friends=list('names_friends');

    const sections=[];

    // Role1 Family — interleaved sequence
    const role1Items=[];
    if(isOn('b_parents_together')) role1Items.push(`${role1} + ${bDad||'Dad'} + ${bMom||'Mom'}`);
    if(isOn('c_b_parents'))       role1Items.push(`Couple + ${bDad||role1s+' Dad'} + ${bMom||role1s+' Mom'}`);
    if(isOn('b_with_mom'))        role1Items.push(`${role1} + ${bMom||'Mom'}`);
    if(isOn('c_b_mom'))           role1Items.push(`Couple + ${bMom||role1s+' Mom'}`);
    if(isOn('b_with_dad'))        role1Items.push(`${role1} + ${bDad||'Dad'}`);
    if(isOn('c_b_dad'))           role1Items.push(`Couple + ${bDad||role1s+' Dad'}`);
    if(isOn('b_siblings'))        role1Items.push(`${role1} + ${bSibs.length ? bSibs.join(' + ') : 'Siblings'}`);
    if(isOn('c_b_sibs'))          role1Items.push(`Couple + ${bSibs.length ? bSibs.join(' + ') : role1s+' Siblings'}`);
    if(isOn('b_immediate')){ const parts=[role1,(bDad||'Dad'),(bMom||'Mom')]; if(bSibs.length) parts.push(...bSibs); role1Items.push(parts.join(' + ')); }
    if(isOn('c_b_immediate')){ const arr=['Couple']; if(bDad||bMom) arr.push(bDad||role1s+' Dad', bMom||role1s+' Mom'); if(bSibs.length) arr.push(...bSibs); role1Items.push(arr.join(' + ')); }

    // Edge combos role1
    if(isOn('b_edge_toggle')){
      if(isOn('b_mom_stepdad'))     role1Items.push(`${role1} + Mom + Stepfather`);
      if(isOn('b_dad_stepmom'))     role1Items.push(`${role1} + Dad + Stepmother`);
      if(isOn('c_b_mom_stepdad'))   role1Items.push(`Couple + Mom + Stepfather`);
      if(isOn('c_b_dad_stepmom'))   role1Items.push(`Couple + Dad + Stepmother`);
    }

    if(role1Items.length) sections.push({title:`${role1s} Family`, items: role1Items});

    // Role2 Family — interleaved sequence
    const role2Items=[];
    if(isOn('g_parents_together')) role2Items.push(`${role2} + ${gDad||'Dad'} + ${gMom||'Mom'}`);
    if(isOn('c_g_parents'))       role2Items.push(`Couple + ${gDad||role2s+' Dad'} + ${gMom||role2s+' Mom'}`);
    if(isOn('g_with_mom'))        role2Items.push(`${role2} + ${gMom||'Mom'}`);
    if(isOn('c_g_mom'))           role2Items.push(`Couple + ${gMom||role2s+' Mom'}`);
    if(isOn('g_with_dad'))        role2Items.push(`${role2} + ${gDad||'Dad'}`);
    if(isOn('c_g_dad'))           role2Items.push(`Couple + ${gDad||role2s+' Dad'}`);
    if(isOn('g_siblings'))        role2Items.push(`${role2} + ${gSibs.length ? gSibs.join(' + ') : 'Siblings'}`);
    if(isOn('c_g_sibs'))          role2Items.push(`Couple + ${gSibs.length ? gSibs.join(' + ') : role2s+' Siblings'}`);
    if(isOn('g_immediate')){ const parts=[role2,(gDad||'Dad'),(gMom||'Mom')]; if(gSibs.length) parts.push(...gSibs); role2Items.push(parts.join(' + ')); }
    if(isOn('c_g_immediate')){ const arr=['Couple']; if(gDad||gMom) arr.push(gDad||role2s+' Dad', gMom||role2s+' Mom'); if(gSibs.length) arr.push(...gSibs); role2Items.push(arr.join(' + ')); }

    // Edge combos role2
    if(isOn('g_edge_toggle')){
      if(isOn('g_mom_stepdad'))     role2Items.push(`${role2} + Mom + Stepfather`);
      if(isOn('g_dad_stepmom'))     role2Items.push(`${role2} + Dad + Stepmother`);
      if(isOn('c_g_mom_stepdad'))   role2Items.push(`Couple + Mom + Stepfather`);
      if(isOn('c_g_dad_stepmom'))   role2Items.push(`Couple + Dad + Stepmother`);
    }

    if(role2Items.length) sections.push({title:`${role2s} Family`, items: role2Items});

    // Combined / Couple+ (names-aware)
    const combined = [];
    const joinOr = (label, arr) => arr.length ? `Couple + ${arr.join(' + ')}` : `Couple + ${label}`;

    if(isOn('both_parents')) combined.push('Couple + Both Sets of Parents');
    if(isOn('both_immediate')){
      const names=['Couple'];
      if(bDad||bMom) names.push(bDad||role1s+' Dad', bMom||role1s+' Mom');
      if(gDad||gMom) names.push(gDad||role2s+' Dad', gMom||role2s+' Mom');
      if(bSibs.length) names.push(...bSibs);
      if(gSibs.length) names.push(...gSibs);
      combined.push(names.join(' + '));
    }
    if(isOn('grandparents_b')) combined.push(joinOr(`${role1s} Grandparents`, gpB));
    if(isOn('grandparents_g')) combined.push(joinOr(`${role2s} Grandparents`, gpG));
    if(isOn('nieces_nephews')) combined.push(joinOr('Nieces/Nephews', niecesNephews));
    if(isOn('extended'))       combined.push('Couple + Extended Family');
    if(isOn('couple_aunts_uncles')) combined.push(joinOr('Aunts/Uncles', auntsUncles));
    if(isOn('couple_cousins'))       combined.push(joinOr('Cousins', cousins));
    if(isOn('couple_godparents'))    combined.push(joinOr('Godparents', godparents));
    if(isOn('couple_friends'))       combined.push(joinOr('Close Friends', friends));

    if(combined.length) sections.push({title:"Combined Groups", items: combined});

    // Party
    const party=[];
    if(isOn('wp_all'))         party.push('Couple + Entire Wedding Party');
    if(isOn('wp_bridesmaids')) party.push(`${roles[roleMode].r1} + Bridesmaids`);
    if(isOn('wp_groomsmen'))   party.push(`${roles[roleMode].r2} + Groomsmen`);
    if(isOn('wp_individuals')) party.push('Individuals with each bridesmaid/groomsman');
    if(isOn('wp_fg_rb'))       party.push('Couple + Flower Girls / Ring Bearers');
    if(party.length) sections.push({title:"Wedding Party",items:party});

    // Custom / Special
    const adds = (val('customAdds')).split(/\n+/).map(s=>s.trim()).filter(Boolean);
    if(adds.length) sections.push({title:'Custom Adds', items: adds});
    const special = val('special');
    if(special) sections.push({title:'Special Requests', items:[special]});

    // Render
    const container=el('rlList'); container.innerHTML = '';
    const meta=document.createElement('div'); meta.className='rl-item';
    meta.innerHTML = `<div><strong>Couple:</strong> ${p1} + ${p2}${wDate?` &nbsp;&nbsp; <strong>Date:</strong> ${wDate}`:''}</div><div class="hint">This is a starting outline. Samantha will review and refine before wedding day.</div>`;
    container.appendChild(meta);

    let n=1;
    const seen = new Set();
    sections.forEach(sec=>{
      const s=document.createElement('div'); s.className='rl-section'; s.textContent=sec.title; container.appendChild(s);
      sec.items.forEach(it=>{
        if(seen.has(it)) return; // de-dupe exact duplicates
        seen.add(it);
        const row=document.createElement('div'); row.className='rl-item'; row.textContent = `${n}. ${it}`; n++; container.appendChild(row);
      });
    });

    el('results').hidden = false;
    el('results').scrollIntoView({behavior:'smooth', block:'start'});
  }

  function downloadPDF(){
    const { jsPDF } = window.jspdf;
    const pdf=new jsPDF({orientation:'portrait',unit:'pt',format:'letter'});
    const brand='#9a633e';
    const p1 = val('bride') || (roles[roleMode].r1);
    const p2 = val('groom') || (roles[roleMode].r2);
    const wDate = val('wDate');

    pdf.setFont('helvetica','bold'); pdf.setFontSize(18); pdf.setTextColor(brand);
    pdf.text('Rule Creative Co. – Wedding Day Shot List',40,60);
    pdf.setFont('helvetica','italic'); pdf.setFontSize(11); pdf.setTextColor('#333');
    const lines=pdf.splitTextToSize('Use this as a smart starting point. We’ll review and refine your family photo list together to fit your people and your day.',520);
    let y=80; lines.forEach(l=>{ pdf.text(l,40,y); y+=14; });
    y+=6; pdf.setDrawColor(brand); pdf.line(40,y,560,y); y+=22;
    pdf.setFont('helvetica','normal'); pdf.setFontSize(11); pdf.setTextColor('#000');
    pdf.text(`Couple: ${p1} + ${p2}${wDate?`   Date: ${wDate}`:''}`,40,y); y+=22;

    if(document.querySelector('#rlList').children.length===0) buildList();
    const addPageIfNeeded=()=>{ if(y>740){ pdf.addPage(); y=60; } };
    document.querySelectorAll('#rlList > *').forEach(node=>{
      if(node.classList.contains('rl-section')){
        addPageIfNeeded(); pdf.setFont('times','bold'); pdf.setFontSize(14); pdf.setTextColor(brand);
        y+=10; pdf.text(node.textContent.trim(),40,y); y+=8; pdf.setDrawColor(brand); pdf.line(40,y,550,y); y+=16;
      } else {
        addPageIfNeeded(); pdf.setFont('helvetica','normal'); pdf.setFontSize(11); pdf.setTextColor('#000');
        pdf.text(node.textContent.trim(),50,y); y+=16;
      }
    });
    const pages=pdf.getNumberOfPages();
    for(let i=1;i<=pages;i++){
      pdf.setPage(i); pdf.setFont('helvetica','italic'); pdf.setFontSize(10); pdf.setTextColor(brand);
      pdf.text('Questions or want Samantha to optimize this list? I’d love to help!',40,770);
      pdf.setFont('helvetica','bold'); pdf.textWithLink('hello@rulecreativeco.com',40,784,{url:'mailto:hello@rulecreativeco.com'});
    }
    pdf.save('shot-list.pdf');
  }

  function sendToSamantha(){
    const email=val('email');
    const p1 = val('bride') || (roles[roleMode].r1);
    const p2 = val('groom') || (roles[roleMode].r2);
    const wDate=val('wDate');
    if(el('results').hidden) buildList();

    let body=`Couple: ${p1} + ${p2}%0D%0A`;
    if(wDate) body+=`Date: ${wDate}%0D%0A`;
    if(email) body+=`Reply-to: ${email}%0D%0A`;
    body+=`%0D%0AShot List:%0D%0A`;
    document.querySelectorAll('#rlList > *').forEach(n=>{
      body+=`- ${encodeURIComponent(n.textContent.trim())}%0D%0A`;
    });
    const subject=encodeURIComponent(`Shot List – ${p1} + ${p2}${wDate?` (${wDate})`:''}`);
    window.location.href=`mailto:hello@rulecreativeco.com?subject=${subject}&body=${body}`;
  }

  // Wire up
  document.addEventListener('DOMContentLoaded', ()=>{
    el('roleMode').addEventListener('change', (e)=>{ roleMode = e.target.value; applyRoleLabels(); });
    applyRoleLabels();
    // edge groups show/hide
    el('b_edge_toggle').addEventListener('change',()=>{ el('b_edge_wrap').hidden = !el('b_edge_toggle').checked; });
    el('g_edge_toggle').addEventListener('change',()=>{ el('g_edge_wrap').hidden = !el('g_edge_toggle').checked; });

    el('gen').onclick = buildList;
    el('pdf').onclick = downloadPDF;
    el('send').onclick = sendToSamantha;
  });
})();
</script>
</body>
</html>
